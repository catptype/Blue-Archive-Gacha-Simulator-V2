<!-- app_web/components/gacha_results_content.html -->

<div class="flex flex-col h-full">
    <!-- Modal Header -->
    <div class="flex-shrink-0 p-4 border-b border-slate-600">
        <h2 class="text-2xl font-bold text-cyan-300">Gacha Results</h2>
    </div>

    <!-- 
      This outer container still uses flexbox to perfectly center the grid container
      both vertically and horizontally within the modal.
    -->
    <div class="p-4 flex items-center justify-center my-auto">
        
        <!--
          THE CORE FIX: The grid is now responsive and consistent.
          - On small screens, it's a single column.
          - On medium screens and up ('md:'), it's ALWAYS five columns.
        -->
        {% with num_students=pulled_students|length %}
        <div class="flex-grow grid gap-4 grid-cols-1 md:grid-cols-5 my-auto">
            
            {% for student in pulled_students %}
                <!-- 
                  THE LOGIC FIX: A conditional class is added to the card wrapper.
                  - If there's only 1 student, we tell it to start in the 3rd column on desktop.
                  - On mobile, it remains in the 1st (and only) column.
                -->
                <div class="mx-auto {% if num_students == 1 %}md:col-start-3{% endif %}">
                    {% include 'app_web/components/student-card.html' with student=student %}
                </div>
            {% endfor %}
        </div>
        {% endwith %}
    </div>
</div>